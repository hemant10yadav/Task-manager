<h2 mat-dialog-title class="display-5">Edit Task</h2>

<form [formGroup]="editTaskForm" (ngSubmit)="onSaveClick()">
  <div mat-dialog-content class="mat-typography">
    <div class="mb-3">
      <mat-form-field appearance="fill" class="w-100">
        <mat-label>Title</mat-label>
        <input matInput formControlName="title" placeholder="Title" required />
        <mat-error *ngIf="editTaskForm.get('title')?.hasError('required')">Title is required</mat-error>
      </mat-form-field>
    </div>

    <div class="mb-3">
      <mat-form-field appearance="fill" class="w-100">
        <mat-label>Description</mat-label>
        <textarea matInput formControlName="description" placeholder="Description" required></textarea>
        <mat-error *ngIf="editTaskForm.get('description')?.hasError('required')">Description is required</mat-error>
      </mat-form-field>
    </div>

    <div class="row g-3">
      <div class="col-md-6 mb-3">
        <mat-form-field appearance="fill" class="w-100">
          <mat-label>Status</mat-label>
          <mat-select formControlName="status">
            <mat-option *ngFor="let status of taskStatuses" [value]="status">{{ status }}</mat-option>
          </mat-select>
        </mat-form-field>
      </div>

      <div class="col-md-6 mb-3">
        <mat-form-field appearance="fill" class="w-100">
          <mat-label>Priority</mat-label>
          <mat-select formControlName="priority">
            <mat-option *ngFor="let priority of taskPriorities" [value]="priority">{{ priority }}</mat-option>
          </mat-select>
        </mat-form-field>
      </div>
    </div>

    <div class="mb-3">
      <mat-form-field appearance="fill" class="w-100">
        <mat-label>Due Date</mat-label>
        <input matInput formControlName="dueDate" placeholder="Due Date" [matDatepicker]="picker"/>
        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker>
      </mat-form-field>
    </div>
  </div>

  <div mat-dialog-actions>
    <button class="ms-auto" mat-button type="button" (click)="onCancelClick()" color="warn">Cancel</button>
    <button mat-button type="submit" [disabled]="!editTaskForm.valid" color="primary">Save</button>
  </div>
</form>
